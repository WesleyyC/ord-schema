<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Recursive JSON Editor Example</title>

    <!-- Foundation CSS framework (Bootstrap and jQueryUI also supported) -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
          crossorigin="anonymous">
    <!-- Font Awesome icons (Bootstrap, Foundation, and jQueryUI also supported) -->
    <link rel='stylesheet'
          href='//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css'>

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/sceditor/2.1.3/themes/content/default.min.css"
          integrity="sha256-P3WNUPw8VxPLLYHThQDGqPp3p6zPC8NIje2/gBrHXXU="
          crossorigin="anonymous"/>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/sceditor/2.1.3/themes/modern.min.css"
          integrity="sha256-tQRldZEfidA0roeWt4UJpwmR+j612PEcBdkmAphOMSg="
          crossorigin="anonymous"/>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sceditor/2.1.3/jquery.sceditor.min.js"
            integrity="sha256-vuUmDhitRMIBuAWNi8rX02E/RWpJViZ5rRVRh/9rmHY="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sceditor/2.1.3/formats/xhtml.js"
            integrity="sha256-t2vKNV/JOyUF06tUYmQ2oHNyGCqee1Tpfy7zS0xMSzQ="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sceditor/2.1.3/jquery.sceditor.min.js"
            integrity="sha256-vuUmDhitRMIBuAWNi8rX02E/RWpJViZ5rRVRh/9rmHY="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sceditor/2.1.3/plugins/format.js"
            integrity="sha256-WPOdSmCwnwHSRfhma6ni51mFFbD1NcxFIXEH4CnxwnI="
            crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/@json-editor/json-editor@latest/dist/jsoneditor.min.js"></script>
</head>
<body>
<div class='container'>
    <div class='row' style='padding-bottom: 15px;'>
        <div class='col-md-12'>
            <h1>Reaction</h1>
        </div>
    </div>
    <div class='row' style='padding-bottom: 15px;'>
        <div class='col-md-12'>
            <button id='submit' class='btn btn-info'>Submit (console.log)
            </button>
            <button id='restore' class='btn btn-info'>Restore to Default
            </button>
            <span id='valid_indicator' class='label label-success'></span>
        </div>
    </div>
    <div class='row'>
        <div class='col-md-12'>
            <div id='editor_holder'></div>
        </div>
    </div>
</div>

<script>
var schema = {
  "additionalProperties": false,
  "type": "object",
  "properties": {
    "identifiers": {
      "type": "array",
      "items": {
        "additionalProperties": false,
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "UNSPECIFIED",
              "CUSTOM",
              "REACTION_SMILES",
              "ATOM_MAPPED_SMILES",
              "RINCHI",
              "NAME"
            ]
          },
          "details": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        },
        "title": "ReactionIdentifier"
      }
    },
    "inputs": {
      "type": "array",
      "items": {
        "additionalProperties": false,
        "type": "object",
        "properties": {
          "key": {
            "type": "string"
          },
          "value": {
            "additionalProperties": false,
            "type": "object",
            "properties": {
              "components": {
                "type": "array",
                "items": {
                  "additionalProperties": false,
                  "type": "object",
                  "properties": {
                    "identifiers": {
                      "type": "array",
                      "items": {
                        "additionalProperties": false,
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "UNSPECIFIED",
                              "CUSTOM",
                              "SMILES",
                              "INCHI",
                              "MOLFILE",
                              "IUPAC_NAME",
                              "NAME",
                              "CAS_NUMBER",
                              "PUBCHEM_CID",
                              "CHEMSPIDER_ID",
                              "CXSMILES",
                              "INCHI_KEY",
                              "XYZ",
                              "UNIPROT_ID",
                              "PDB_ID"
                            ]
                          },
                          "details": {
                            "type": "string"
                          },
                          "value": {
                            "type": "string"
                          }
                        },
                        "title": "CompoundIdentifier"
                      }
                    },
                    "mass": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        },
                        "precision": {
                          "type": "number"
                        },
                        "units": {
                          "type": "string",
                          "enum": [
                            "UNSPECIFIED",
                            "GRAM",
                            "MILLIGRAM",
                            "MICROGRAM",
                            "KILOGRAM"
                          ]
                        }
                      },
                      "title": "Mass"
                    },
                    "moles": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        },
                        "precision": {
                          "type": "number"
                        },
                        "units": {
                          "type": "string",
                          "enum": [
                            "UNSPECIFIED",
                            "MOLES",
                            "MILLIMOLES",
                            "MICROMOLES",
                            "NANOMOLES"
                          ]
                        }
                      },
                      "title": "Moles"
                    },
                    "volume": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        },
                        "precision": {
                          "type": "number"
                        },
                        "units": {
                          "type": "string",
                          "enum": [
                            "UNSPECIFIED",
                            "MILLILITER",
                            "MICROLITER",
                            "LITER"
                          ]
                        }
                      },
                      "title": "Volume"
                    },
                    "reaction_role": {
                      "type": "string",
                      "enum": [
                        "UNSPECIFIED",
                        "REACTANT",
                        "REAGENT",
                        "SOLVENT",
                        "CATALYST",
                        "WORKUP"
                      ]
                    },
                    "is_limiting": {
                      "type": "boolean"
                    },
                    "preparation": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "UNSPECIFIED",
                            "CUSTOM",
                            "NONE",
                            "REPURIFIED",
                            "SPARGED",
                            "DRIED",
                            "SYNTHESIZED"
                          ]
                        },
                        "details": {
                          "type": "string"
                        }
                      },
                      "title": "CompoundPreparation"
                    },
                    "vendor_source": {
                      "type": "string"
                    },
                    "vendor_id": {
                      "type": "string"
                    },
                    "vendor_lot": {
                      "type": "string"
                    },
                    "features": {
                      "type": "array",
                      "items": {
                        "additionalProperties": false,
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "string_value": {
                            "type": "string"
                          },
                          "float_value": {
                            "type": "number"
                          },
                          "how_computed": {
                            "type": "string"
                          }
                        },
                        "title": "Feature"
                      }
                    }
                  },
                  "title": "Compound"
                }
              },
              "addition_order": {
                "type": "integer",
                "multipleOf": 1.0
              },
              "addition_time": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "value": {
                    "type": "number"
                  },
                  "precision": {
                    "type": "number"
                  },
                  "units": {
                    "type": "string",
                    "enum": [
                      "UNSPECIFIED",
                      "HOUR",
                      "MINUTE",
                      "SECOND"
                    ]
                  }
                },
                "title": "Time"
              },
              "addition_speed": {
                "type": "string",
                "enum": [
                  "UNSPECIFIED",
                  "ALL_AT_ONCE",
                  "FAST",
                  "SLOW",
                  "DROPWISE",
                  "CONTINUOUS"
                ]
              },
              "addition_duration": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "value": {
                    "type": "number"
                  },
                  "precision": {
                    "type": "number"
                  },
                  "units": {
                    "type": "string",
                    "enum": [
                      "UNSPECIFIED",
                      "HOUR",
                      "MINUTE",
                      "SECOND"
                    ]
                  }
                },
                "title": "Time"
              },
              "flow_rate": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "value": {
                    "type": "number"
                  },
                  "precision": {
                    "type": "number"
                  },
                  "units": {
                    "type": "string",
                    "enum": [
                      "UNSPECIFIED",
                      "MICROLITER_PER_MINUTE",
                      "MICROLITER_PER_SECOND",
                      "MILLILITER_PER_MINUTE",
                      "MILLILITER_PER_SECOND",
                      "MICROLITER_PER_HOUR"
                    ]
                  }
                },
                "title": "FlowRate"
              }
            },
            "title": "ReactionInput"
          }
        },
        "title": "InputsEntry"
      }
    },
    "setup": {
      "additionalProperties": false,
      "type": "object",
      "properties": {
        "vessel": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "CUSTOM",
                "ROUND_BOTTOM_FLASK",
                "VIAL",
                "WELL_PLATE",
                "MICROWAVE_VIAL",
                "TUBE",
                "CONTINUOUS_STIRRED_TANK_REACTOR",
                "PACKED_BED_REACTOR"
              ]
            },
            "details": {
              "type": "string"
            },
            "material": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "CUSTOM",
                "GLASS",
                "POLYPROPYLENE",
                "PLASTIC"
              ]
            },
            "material_details": {
              "type": "string"
            },
            "preparation": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "CUSTOM",
                "NONE",
                "OVEN_DRIED"
              ]
            },
            "preparation_details": {
              "type": "string"
            },
            "volume": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "precision": {
                  "type": "number"
                },
                "units": {
                  "type": "string",
                  "enum": [
                    "UNSPECIFIED",
                    "MILLILITER",
                    "MICROLITER",
                    "LITER"
                  ]
                }
              },
              "title": "Volume"
            }
          },
          "title": "Vessel"
        },
        "is_automated": {
          "type": "boolean"
        },
        "automation_platform": {
          "type": "string"
        },
        "automation_code": {
          "type": "array",
          "items": {
            "additionalProperties": false,
            "type": "object",
            "properties": {
              "key": {
                "type": "string"
              },
              "value": {
                "type": "string"
              }
            },
            "title": "AutomationCodeEntry"
          }
        }
      },
      "title": "ReactionSetup"
    },
    "conditions": {
      "additionalProperties": false,
      "type": "object",
      "properties": {
        "temperature": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "CUSTOM",
                "AMBIENT",
                "OIL_BATH",
                "WATER_BATH",
                "SAND_BATH",
                "ICE_BATH",
                "DRY_ALUMINUM_PLATE",
                "MICROWAVE",
                "DRY_ICE_BATH",
                "AIR_FAN",
                "LIQUID_NITROGEN"
              ]
            },
            "details": {
              "type": "string"
            },
            "setpoint": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "precision": {
                  "type": "number"
                },
                "units": {
                  "type": "string",
                  "enum": [
                    "UNSPECIFIED",
                    "CELSIUS",
                    "FAHRENHEIT",
                    "KELVIN"
                  ]
                }
              },
              "title": "Temperature"
            },
            "measurements": {
              "type": "array",
              "items": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "UNSPECIFIED",
                      "CUSTOM",
                      "THERMOCOUPLE_INTERNAL",
                      "THERMOCOUPLE_EXTERNAL",
                      "INFRARED"
                    ]
                  },
                  "details": {
                    "type": "string"
                  },
                  "time": {
                    "additionalProperties": false,
                    "type": "object",
                    "properties": {
                      "value": {
                        "type": "number"
                      },
                      "precision": {
                        "type": "number"
                      },
                      "units": {
                        "type": "string",
                        "enum": [
                          "UNSPECIFIED",
                          "HOUR",
                          "MINUTE",
                          "SECOND"
                        ]
                      }
                    },
                    "title": "Time"
                  },
                  "temperature": {
                    "additionalProperties": false,
                    "type": "object",
                    "properties": {
                      "value": {
                        "type": "number"
                      },
                      "precision": {
                        "type": "number"
                      },
                      "units": {
                        "type": "string",
                        "enum": [
                          "UNSPECIFIED",
                          "CELSIUS",
                          "FAHRENHEIT",
                          "KELVIN"
                        ]
                      }
                    },
                    "title": "Temperature"
                  }
                },
                "title": "Measurement"
              }
            }
          },
          "title": "TemperatureConditions"
        },
        "pressure": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "CUSTOM",
                "AMBIENT",
                "BALLOON",
                "SEALED",
                "SEPTUM_WITH_NEEDLE",
                "RELEASEVALVE",
                "BPR"
              ]
            },
            "details": {
              "type": "string"
            },
            "setpoint": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "precision": {
                  "type": "number"
                },
                "units": {
                  "type": "string",
                  "enum": [
                    "UNSPECIFIED",
                    "BAR",
                    "ATMOSPHERE",
                    "PSI",
                    "KPSI",
                    "PASCAL",
                    "KILOPASCAL"
                  ]
                }
              },
              "title": "Pressure"
            },
            "atmosphere": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "CUSTOM",
                "AIR",
                "NITROGEN",
                "ARGON",
                "OXYGEN",
                "HYDROGEN"
              ]
            },
            "atmosphere_details": {
              "type": "string"
            },
            "measurements": {
              "type": "array",
              "items": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "UNSPECIFIED",
                      "CUSTOM",
                      "PRESSURE_TRANSDUCER"
                    ]
                  },
                  "details": {
                    "type": "string"
                  },
                  "time": {
                    "additionalProperties": false,
                    "type": "object",
                    "properties": {
                      "value": {
                        "type": "number"
                      },
                      "precision": {
                        "type": "number"
                      },
                      "units": {
                        "type": "string",
                        "enum": [
                          "UNSPECIFIED",
                          "HOUR",
                          "MINUTE",
                          "SECOND"
                        ]
                      }
                    },
                    "title": "Time"
                  },
                  "pressure": {
                    "additionalProperties": false,
                    "type": "object",
                    "properties": {
                      "value": {
                        "type": "number"
                      },
                      "precision": {
                        "type": "number"
                      },
                      "units": {
                        "type": "string",
                        "enum": [
                          "UNSPECIFIED",
                          "BAR",
                          "ATMOSPHERE",
                          "PSI",
                          "KPSI",
                          "PASCAL",
                          "KILOPASCAL"
                        ]
                      }
                    },
                    "title": "Pressure"
                  }
                },
                "title": "Measurement"
              }
            }
          },
          "title": "PressureConditions"
        },
        "stirring": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "CUSTOM",
                "NONE",
                "STIR_BAR",
                "OVERHEAD_MIXER",
                "AGITATION"
              ]
            },
            "details": {
              "type": "string"
            },
            "rate": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "HIGH",
                "MEDIUM",
                "LOW"
              ]
            },
            "rpm": {
              "type": "integer",
              "multipleOf": 1.0
            }
          },
          "title": "StirringConditions"
        },
        "illumination": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "CUSTOM",
                "AMBIENT",
                "DARK",
                "LED",
                "HALOGEN_LAMP",
                "DEUTERIUM_LAMP",
                "SOLAR_SIMULATOR",
                "BROAD_SPECTRUM"
              ]
            },
            "details": {
              "type": "string"
            },
            "peak_wavelength": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "precision": {
                  "type": "number"
                },
                "units": {
                  "type": "string",
                  "enum": [
                    "UNSPECIFIED",
                    "NANOMETER",
                    "WAVENUMBER"
                  ]
                }
              },
              "title": "Wavelength"
            },
            "color": {
              "type": "string"
            },
            "distance_to_vessel": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "precision": {
                  "type": "number"
                },
                "units": {
                  "type": "string",
                  "enum": [
                    "UNSPECIFIED",
                    "CENTIMETER",
                    "MILLIMETER",
                    "METER",
                    "INCH",
                    "FOOT"
                  ]
                }
              },
              "title": "Length"
            }
          },
          "title": "IlluminationConditions"
        },
        "electrochemistry": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "CUSTOM",
                "CONSTANT_CURRENT",
                "CONSTANT_VOLTAGE"
              ]
            },
            "details": {
              "type": "string"
            },
            "current": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "precision": {
                  "type": "number"
                },
                "units": {
                  "type": "string",
                  "enum": [
                    "UNSPECIFIED",
                    "AMPERE",
                    "MILLIAMPERE"
                  ]
                }
              },
              "title": "Current"
            },
            "voltage": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "precision": {
                  "type": "number"
                },
                "units": {
                  "type": "string",
                  "enum": [
                    "UNSPECIFIED",
                    "VOLT",
                    "MILLIVOLT"
                  ]
                }
              },
              "title": "Voltage"
            },
            "anode_material": {
              "type": "string"
            },
            "cathode_material": {
              "type": "string"
            },
            "electrode_separation": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "precision": {
                  "type": "number"
                },
                "units": {
                  "type": "string",
                  "enum": [
                    "UNSPECIFIED",
                    "CENTIMETER",
                    "MILLIMETER",
                    "METER",
                    "INCH",
                    "FOOT"
                  ]
                }
              },
              "title": "Length"
            },
            "measurements": {
              "type": "array",
              "items": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "time": {
                    "additionalProperties": false,
                    "type": "object",
                    "properties": {
                      "value": {
                        "type": "number"
                      },
                      "precision": {
                        "type": "number"
                      },
                      "units": {
                        "type": "string",
                        "enum": [
                          "UNSPECIFIED",
                          "HOUR",
                          "MINUTE",
                          "SECOND"
                        ]
                      }
                    },
                    "title": "Time"
                  },
                  "current": {
                    "additionalProperties": false,
                    "type": "object",
                    "properties": {
                      "value": {
                        "type": "number"
                      },
                      "precision": {
                        "type": "number"
                      },
                      "units": {
                        "type": "string",
                        "enum": [
                          "UNSPECIFIED",
                          "AMPERE",
                          "MILLIAMPERE"
                        ]
                      }
                    },
                    "title": "Current"
                  },
                  "voltage": {
                    "additionalProperties": false,
                    "type": "object",
                    "properties": {
                      "value": {
                        "type": "number"
                      },
                      "precision": {
                        "type": "number"
                      },
                      "units": {
                        "type": "string",
                        "enum": [
                          "UNSPECIFIED",
                          "VOLT",
                          "MILLIVOLT"
                        ]
                      }
                    },
                    "title": "Voltage"
                  }
                },
                "title": "Measurement"
              }
            }
          },
          "title": "ElectrochemistryConditions"
        },
        "flow": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "UNSPECIFIED",
                "CUSTOM",
                "PLUG_FLOW_REACTOR",
                "CONTINUOUS_STIRRED_TANK_REACTOR",
                "PACKED_BED_REACTOR"
              ]
            },
            "details": {
              "type": "string"
            },
            "pump_type": {
              "type": "string"
            },
            "tubing": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "UNSPECIFIED",
                    "CUSTOM",
                    "STEEL",
                    "COPPER",
                    "PFA",
                    "FEP",
                    "TEFLONAF",
                    "PTFE",
                    "GLASS",
                    "QUARTZ",
                    "SILICON",
                    "PDMS"
                  ]
                },
                "details": {
                  "type": "string"
                },
                "diameter": {
                  "additionalProperties": false,
                  "type": "object",
                  "properties": {
                    "value": {
                      "type": "number"
                    },
                    "precision": {
                      "type": "number"
                    },
                    "units": {
                      "type": "string",
                      "enum": [
                        "UNSPECIFIED",
                        "CENTIMETER",
                        "MILLIMETER",
                        "METER",
                        "INCH",
                        "FOOT"
                      ]
                    }
                  },
                  "title": "Length"
                }
              },
              "title": "Tubing"
            }
          },
          "title": "FlowConditions"
        },
        "reflux": {
          "type": "boolean"
        },
        "pH": {
          "type": "number"
        }
      },
      "title": "ReactionConditions"
    },
    "notes": {
      "additionalProperties": false,
      "type": "object",
      "properties": {
        "is_heterogeneous": {
          "type": "boolean"
        },
        "is_exothermic": {
          "type": "boolean"
        },
        "is_offgasses": {
          "type": "boolean"
        },
        "is_sensitive_to_moisture": {
          "type": "boolean"
        },
        "is_sensitive_to_oxygen": {
          "type": "boolean"
        },
        "is_sensitive_to_light": {
          "type": "boolean"
        },
        "safety_notes": {
          "type": "string"
        }
      },
      "title": "ReactionNotes"
    },
    "observations": {
      "type": "array",
      "items": {
        "additionalProperties": false,
        "type": "object",
        "properties": {
          "time": {
            "additionalProperties": false,
            "type": "object",
            "properties": {
              "value": {
                "type": "number"
              },
              "precision": {
                "type": "number"
              },
              "units": {
                "type": "string",
                "enum": [
                  "UNSPECIFIED",
                  "HOUR",
                  "MINUTE",
                  "SECOND"
                ]
              }
            },
            "title": "Time"
          },
          "color": {
            "type": "string"
          },
          "image": {
            "type": "string"
          },
          "comment": {
            "type": "string"
          }
        },
        "title": "ReactionObservation"
      }
    },
    "workup": {
      "type": "array",
      "items": {
        "additionalProperties": false,
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "UNSPECIFIED",
              "CUSTOM",
              "THERMAL_QUENCH",
              "SOLVENT_QUENCH",
              "EXTRACTION",
              "FLASH_CHROMATOGRAPHY"
            ]
          },
          "details": {
            "type": "string"
          },
          "thermal_quench": {
            "additionalProperties": false,
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "UNSPECIFIED",
                  "CUSTOM",
                  "AMBIENT",
                  "OIL_BATH",
                  "WATER_BATH",
                  "SAND_BATH",
                  "ICE_BATH",
                  "DRY_ALUMINUM_PLATE",
                  "MICROWAVE",
                  "DRY_ICE_BATH",
                  "AIR_FAN",
                  "LIQUID_NITROGEN"
                ]
              },
              "details": {
                "type": "string"
              },
              "setpoint": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "value": {
                    "type": "number"
                  },
                  "precision": {
                    "type": "number"
                  },
                  "units": {
                    "type": "string",
                    "enum": [
                      "UNSPECIFIED",
                      "CELSIUS",
                      "FAHRENHEIT",
                      "KELVIN"
                    ]
                  }
                },
                "title": "Temperature"
              },
              "measurements": {
                "type": "array",
                "items": {
                  "additionalProperties": false,
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "UNSPECIFIED",
                        "CUSTOM",
                        "THERMOCOUPLE_INTERNAL",
                        "THERMOCOUPLE_EXTERNAL",
                        "INFRARED"
                      ]
                    },
                    "details": {
                      "type": "string"
                    },
                    "time": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        },
                        "precision": {
                          "type": "number"
                        },
                        "units": {
                          "type": "string",
                          "enum": [
                            "UNSPECIFIED",
                            "HOUR",
                            "MINUTE",
                            "SECOND"
                          ]
                        }
                      },
                      "title": "Time"
                    },
                    "temperature": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        },
                        "precision": {
                          "type": "number"
                        },
                        "units": {
                          "type": "string",
                          "enum": [
                            "UNSPECIFIED",
                            "CELSIUS",
                            "FAHRENHEIT",
                            "KELVIN"
                          ]
                        }
                      },
                      "title": "Temperature"
                    }
                  },
                  "title": "Measurement"
                }
              }
            },
            "title": "TemperatureConditions"
          },
          "solvent_quench": {
            "additionalProperties": false,
            "type": "object",
            "properties": {
              "identifiers": {
                "type": "array",
                "items": {
                  "additionalProperties": false,
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "UNSPECIFIED",
                        "CUSTOM",
                        "SMILES",
                        "INCHI",
                        "MOLFILE",
                        "IUPAC_NAME",
                        "NAME",
                        "CAS_NUMBER",
                        "PUBCHEM_CID",
                        "CHEMSPIDER_ID",
                        "CXSMILES",
                        "INCHI_KEY",
                        "XYZ",
                        "UNIPROT_ID",
                        "PDB_ID"
                      ]
                    },
                    "details": {
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "title": "CompoundIdentifier"
                }
              },
              "mass": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "value": {
                    "type": "number"
                  },
                  "precision": {
                    "type": "number"
                  },
                  "units": {
                    "type": "string",
                    "enum": [
                      "UNSPECIFIED",
                      "GRAM",
                      "MILLIGRAM",
                      "MICROGRAM",
                      "KILOGRAM"
                    ]
                  }
                },
                "title": "Mass"
              },
              "moles": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "value": {
                    "type": "number"
                  },
                  "precision": {
                    "type": "number"
                  },
                  "units": {
                    "type": "string",
                    "enum": [
                      "UNSPECIFIED",
                      "MOLES",
                      "MILLIMOLES",
                      "MICROMOLES",
                      "NANOMOLES"
                    ]
                  }
                },
                "title": "Moles"
              },
              "volume": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "value": {
                    "type": "number"
                  },
                  "precision": {
                    "type": "number"
                  },
                  "units": {
                    "type": "string",
                    "enum": [
                      "UNSPECIFIED",
                      "MILLILITER",
                      "MICROLITER",
                      "LITER"
                    ]
                  }
                },
                "title": "Volume"
              },
              "reaction_role": {
                "type": "string",
                "enum": [
                  "UNSPECIFIED",
                  "REACTANT",
                  "REAGENT",
                  "SOLVENT",
                  "CATALYST",
                  "WORKUP"
                ]
              },
              "is_limiting": {
                "type": "boolean"
              },
              "preparation": {
                "additionalProperties": false,
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "UNSPECIFIED",
                      "CUSTOM",
                      "NONE",
                      "REPURIFIED",
                      "SPARGED",
                      "DRIED",
                      "SYNTHESIZED"
                    ]
                  },
                  "details": {
                    "type": "string"
                  }
                },
                "title": "CompoundPreparation"
              },
              "vendor_source": {
                "type": "string"
              },
              "vendor_id": {
                "type": "string"
              },
              "vendor_lot": {
                "type": "string"
              },
              "features": {
                "type": "array",
                "items": {
                  "additionalProperties": false,
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "string_value": {
                      "type": "string"
                    },
                    "float_value": {
                      "type": "number"
                    },
                    "how_computed": {
                      "type": "string"
                    }
                  },
                  "title": "Feature"
                }
              }
            },
            "title": "Compound"
          }
        },
        "title": "ReactionWorkup"
      }
    },
    "outcomes": {
      "type": "array",
      "items": {
        "additionalProperties": false,
        "type": "object",
        "properties": {
          "reaction_time": {
            "additionalProperties": false,
            "type": "object",
            "properties": {
              "value": {
                "type": "number"
              },
              "precision": {
                "type": "number"
              },
              "units": {
                "type": "string",
                "enum": [
                  "UNSPECIFIED",
                  "HOUR",
                  "MINUTE",
                  "SECOND"
                ]
              }
            },
            "title": "Time"
          },
          "conversion": {
            "additionalProperties": false,
            "type": "object",
            "properties": {
              "value": {
                "type": "number"
              },
              "precision": {
                "type": "number"
              }
            },
            "title": "Percentage"
          },
          "products": {
            "type": "array",
            "items": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "compound": {
                  "additionalProperties": false,
                  "type": "object",
                  "properties": {
                    "identifiers": {
                      "type": "array",
                      "items": {
                        "additionalProperties": false,
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "UNSPECIFIED",
                              "CUSTOM",
                              "SMILES",
                              "INCHI",
                              "MOLFILE",
                              "IUPAC_NAME",
                              "NAME",
                              "CAS_NUMBER",
                              "PUBCHEM_CID",
                              "CHEMSPIDER_ID",
                              "CXSMILES",
                              "INCHI_KEY",
                              "XYZ",
                              "UNIPROT_ID",
                              "PDB_ID"
                            ]
                          },
                          "details": {
                            "type": "string"
                          },
                          "value": {
                            "type": "string"
                          }
                        },
                        "title": "CompoundIdentifier"
                      }
                    },
                    "mass": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        },
                        "precision": {
                          "type": "number"
                        },
                        "units": {
                          "type": "string",
                          "enum": [
                            "UNSPECIFIED",
                            "GRAM",
                            "MILLIGRAM",
                            "MICROGRAM",
                            "KILOGRAM"
                          ]
                        }
                      },
                      "title": "Mass"
                    },
                    "moles": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        },
                        "precision": {
                          "type": "number"
                        },
                        "units": {
                          "type": "string",
                          "enum": [
                            "UNSPECIFIED",
                            "MOLES",
                            "MILLIMOLES",
                            "MICROMOLES",
                            "NANOMOLES"
                          ]
                        }
                      },
                      "title": "Moles"
                    },
                    "volume": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        },
                        "precision": {
                          "type": "number"
                        },
                        "units": {
                          "type": "string",
                          "enum": [
                            "UNSPECIFIED",
                            "MILLILITER",
                            "MICROLITER",
                            "LITER"
                          ]
                        }
                      },
                      "title": "Volume"
                    },
                    "reaction_role": {
                      "type": "string",
                      "enum": [
                        "UNSPECIFIED",
                        "REACTANT",
                        "REAGENT",
                        "SOLVENT",
                        "CATALYST",
                        "WORKUP"
                      ]
                    },
                    "is_limiting": {
                      "type": "boolean"
                    },
                    "preparation": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "UNSPECIFIED",
                            "CUSTOM",
                            "NONE",
                            "REPURIFIED",
                            "SPARGED",
                            "DRIED",
                            "SYNTHESIZED"
                          ]
                        },
                        "details": {
                          "type": "string"
                        }
                      },
                      "title": "CompoundPreparation"
                    },
                    "vendor_source": {
                      "type": "string"
                    },
                    "vendor_id": {
                      "type": "string"
                    },
                    "vendor_lot": {
                      "type": "string"
                    },
                    "features": {
                      "type": "array",
                      "items": {
                        "additionalProperties": false,
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "string_value": {
                            "type": "string"
                          },
                          "float_value": {
                            "type": "number"
                          },
                          "how_computed": {
                            "type": "string"
                          }
                        },
                        "title": "Feature"
                      }
                    }
                  },
                  "title": "Compound"
                },
                "is_desired_product": {
                  "type": "boolean"
                },
                "compound_yield": {
                  "additionalProperties": false,
                  "type": "object",
                  "properties": {
                    "value": {
                      "type": "number"
                    },
                    "precision": {
                      "type": "number"
                    }
                  },
                  "title": "Percentage"
                },
                "purity": {
                  "additionalProperties": false,
                  "type": "object",
                  "properties": {
                    "value": {
                      "type": "number"
                    },
                    "precision": {
                      "type": "number"
                    }
                  },
                  "title": "Percentage"
                },
                "selectivity": {
                  "additionalProperties": false,
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "UNSPECIFIED",
                        "CUSTOM",
                        "EE",
                        "ER",
                        "DE"
                      ]
                    },
                    "details": {
                      "type": "string"
                    },
                    "value": {
                      "type": "number"
                    },
                    "precision": {
                      "type": "number"
                    }
                  },
                  "title": "Selectivity"
                },
                "analysis_identity": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "analysis_yield": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "analysis_purity": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "analysis_selectivity": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "isolated_color": {
                  "type": "string"
                },
                "texture": {
                  "type": "string",
                  "enum": [
                    "UNSPECIFIED",
                    "CUSTOM",
                    "POWDER",
                    "CRYSTAL",
                    "OIL"
                  ]
                },
                "texture_details": {
                  "type": "string"
                }
              },
              "title": "ReactionProduct"
            }
          },
          "analyses": {
            "type": "array",
            "items": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "key": {
                  "type": "string"
                },
                "value": {
                  "additionalProperties": false,
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "UNSPECIFIED",
                        "CUSTOM",
                        "LC",
                        "GC",
                        "IR",
                        "NMR",
                        "MP",
                        "UV",
                        "TLC",
                        "MS",
                        "HRMS",
                        "MSMS",
                        "WEIGHT",
                        "LCMS",
                        "GCMS",
                        "ELSD",
                        "CD",
                        "SFC"
                      ]
                    },
                    "details": {
                      "type": "string"
                    },
                    "data_processed": {
                      "type": "array",
                      "items": {
                        "additionalProperties": false,
                        "type": "object",
                        "properties": {
                          "key": {
                            "type": "string"
                          },
                          "value": {
                            "type": "string"
                          }
                        },
                        "title": "DataProcessedEntry"
                      }
                    },
                    "data_raw": {
                      "type": "array",
                      "items": {
                        "additionalProperties": false,
                        "type": "object",
                        "properties": {
                          "key": {
                            "type": "string"
                          },
                          "value": {
                            "type": "string"
                          }
                        },
                        "title": "DataRawEntry"
                      }
                    },
                    "instrument_manufacturer": {
                      "type": "string"
                    },
                    "instrument_last_calibrated": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "string"
                        }
                      },
                      "title": "DateTime"
                    }
                  },
                  "title": "ReactionAnalysis"
                }
              },
              "title": "AnalysesEntry"
            }
          }
        },
        "title": "ReactionOutcome"
      }
    },
    "provenance": {
      "additionalProperties": false,
      "type": "object",
      "properties": {
        "experimenter": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "username": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "orcid": {
              "type": "string"
            },
            "organization": {
              "type": "string"
            }
          },
          "title": "Person"
        },
        "city": {
          "type": "string"
        },
        "experiment_start": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "value": {
              "type": "string"
            }
          },
          "title": "DateTime"
        },
        "doi": {
          "type": "string"
        },
        "patent": {
          "type": "string"
        },
        "publication_url": {
          "type": "string"
        },
        "record_created": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "value": {
              "type": "string"
            }
          },
          "title": "DateTime"
        },
        "record_modified": {
          "additionalProperties": false,
          "type": "object",
          "properties": {
            "value": {
              "type": "string"
            }
          },
          "title": "DateTime"
        },
        "id": {
          "type": "integer",
          "multipleOf": 1.0
        }
      },
      "title": "ReactionProvenance"
    }
  },
  "title": "Reaction"
};

    JSONEditor.defaults.theme = 'bootstrap4';
    JSONEditor.defaults.iconlib = null;
    // JSONEditor.plugins.sceditor.style = "//cdn.jsdelivr.net/sceditor/1.4.3/jquery.sceditor.default.min.css";

    // Initialize the editor
    var editor = new JSONEditor(
        document.getElementById('editor_holder'),
        {
        schema: schema,
        disable_array_reorder: true,
        disable_properties: true,
        disable_edit_json: true,
        });

    // Hook up the submit button to log to the console
    document.getElementById('submit').addEventListener('click',function() {
        // Get the value from the editor
        console.log(editor.getValue());
    });

    // Hook up the Restore to Default button
    document.getElementById('restore').addEventListener('click',function() {
        editor.setValue(starting_value);
    });

    // Hook up the validation indicator to update its
    // status whenever the editor changes
    editor.on('change',function() {
        // Get an array of errors from the validator
        var errors = editor.validate();

        var indicator = document.getElementById('valid_indicator');

        // Not valid
        if(errors.length) {
            indicator.className = 'label label-danger'
            indicator.textContent = "not valid";
        }
        // Valid
        else {
            indicator.className = 'label label-success'
            indicator.textContent = "valid";
        }
    });

</script>
</body>
</html>